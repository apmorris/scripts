  ________________________________________________________________________________
 |  ____________________________________________________________________________  |
 | |               |                              |                             | |
 | |   N O T E S   |    A L I C E   M O R R I S   |  M P H Y S   P R O J E C T  | |
 | |_______________|______________________________|_____________________________| |
 |________________________________________________________________________________|
_____________________________________________________________________________________

N E W   T U P L E S :
____________________

--applying cuts with cutTree.C

--do this for data and MC

_____________________________________________________________________________________

P I D   C A L I B R A T I O N S :
________________________________

--Performing for new MC tuples, DONE

--Recombined 4 tuples to 1

--working ntuples ~/cern/ntuples/new_tuples/Lb2chicpK_2011_2012_signal_cut.root
                  ~/cern/ntuples/new_tuples/Lb2chicpK_MC_2011_2012_signal_cut.root

--need to plot these in comparison with the data variables 

--alter all scripts for new variables.
_____________________________________________________________________________________

M V A   T R A I N I N G :
________________________

--variables to use are 

Lambda_b0_DTF_CHI2NDOF
Lambda_b0_IPCHI2_OWNPV
Lambda_b0_FDS
kaon_IPCHI2_OWNPV
proton_IPCHI2_OWNPV
gamma_CL
muplus_TRACK_GhostProb
muminus_TRACK_GhostProb
kaon_TRACK_GhostProb
proton_TRACK_GhostProb
muplus_ProbNNmu
muminus_ProbNNmu
gamma_PT
Lambda_b0_L0MuonDecision_TOS
Lambda_b0_L0DiMuonDecision_TOS
Lambda_b0_Hlt1DiMuonHighMassDecision_TOS
Lambda_b0_Hlt1DiMuonLowMassDecision_TOS
Lambda_b0_Hlt1TrackMuonDecision_TOS
Lambda_b0_Hlt1SingleMuonHighPTDecision_TOS
Lambda_b0_Hlt1TrackAllL0Decision_TOS      
Lambda_b0_Hlt2DiMuonDetachedDecision_TOS
Lambda_b0_Hlt2DiMuonDetachedHeavyDecision_TOS
Lambda_b0_pi0veto==1
Lambda_b0_PT
kaon_ProbNNk
proton_ProbNNp

_____________________________________________________________________________________

F I T T I N G :
______________

--fit_MC works best for cb1+cb2 and 200 bins. Recorded fit parameters in txt files 
in the fit_MC_binning folder, transferred values to fit code.

--will have to redo this with the new tuples

_____________________________________________________________________________________

G I T   S T U F F :
__________________

--scripts is now a repo, local and remote

--to update the remote version, from scripts directory, type at command line:
git add *.C *.txt *.py
git commit -m "Some description of the changes made"
git push origin master

--to update the local version, from scripts directory, type at command line:
git pull

--plots is also a repo

_____________________________________________________________________________________

E V E R Y   S T A R T U P   O N   L X P L U S   D O   T H I S :
______________________________________________________________

source /cvmfs/lhcb.cern.ch/group_login.sh
SetupUrania v2r4

_____________________________________________________________________________________

R U N N I N G :
______________

python MakePIDdistributionsRunRange.py "20" "MagUp" "[K,P]" "[V2ProbNNK,V2ProbNNp]" 

python MakePIDdistributionsRunRange.py "20" "MagDown" "[K,P]" "[V2ProbNNK,V2ProbNNp]" 

python MakePIDdistributionsRunRange.py "20r1" "MagUp" "[K,P]" "[V2ProbNNK,V2ProbNNp]" 

python MakePIDdistributionsRunRange.py "20r1" "MagDown" "[K,P]" "[V2ProbNNK,V2ProbNNp]" 

root -l ~/cern/scripts/cutTree.C

python MakePIDCorrection.py ~/cern/ntuples/new_tuples/Lb2chicpK_MC_2012_MagUp_signal_cut.root DecayTree "[kaon:DEFAULT/K,proton:DEFAULT/P]" "[kaon,proton]" "[ProbNNK,ProbNNp]" PIDHists_Strip20r1_MagUp.root DONE

python MakePIDCorrection.py ~/cern/ntuples/new_tuples/Lb2chicpK_MC_2012_MagDown_signal_cut.root DecayTree "[kaon:DEFAULT/K,proton:DEFAULT/P]" "[kaon,proton]" "[ProbNNK,ProbNNp]" PIDHists_Strip20r1_MagDown.root DONE

python MakePIDCorrection.py ~/cern/ntuples/new_tuples/Lb2chicpK_MC_2011_MagUp_signal_cut.root DecayTree "[kaon:DEFAULT/K,proton:DEFAULT/P]" "[kaon,proton]" "[ProbNNK,ProbNNp]" PIDHists_Strip20_MagUp.root TODO

python MakePIDCorrection.py ~/cern/ntuples/new_tuples/Lb2chicpK_MC_2011_MagDown_signal_cut.root DecayTree "[kaon:DEFAULT/K,proton:DEFAULT/P]" "[kaon,proton]" "[ProbNNK,ProbNNp]" PIDHists_Strip20_MagDown.root TODO



/* && kaon_IPCHI2_OWNPV>=0 && kaon_TRACK_GhostProb>=0 && kaon_ProbNNp>=0 && kaon_ProbNNk>=0 && proton_IPCHI2_OWNPV>=0 && proton_TRACK_GhostProb>=0 && proton_ProbNNp>=0 && proton_ProbNNk>=0 && gamma_PT>=0 && gamma_CL>=0 && muminus_ProbNNmu>=0 && muminus_TRACK_GhostProb>=0 && muplus_ProbNNmu>=0 && muplus_TRACK_GhostProb>=0 && Lambda_b0_DTF_CHI2NDOF>=0 && Lambda_b0_IPCHI2_OWNPV>=0 && Lambda_b0_L0DiMuonDecision_TOS>=0 && Lambda_b0_L0MuonDecision_TOS>=0 && Lambda_b0_FDS>=0 && Lambda_b0_Hlt1DiMuonHighMassDecision_TOS>=0 && Lambda_b0_Hlt1DiMuonLowMassDecision_TOS>=0 && Lambda_b0_Hlt1TrackMuonDecision_TOS>=0 && Lambda_b0_Hlt1SingleMuonHighPTDecision_TOS>=0 && Lambda_b0_Hlt1TrackAllL0Decision_TOS>=0 && Lambda_b0_Hlt2DiMuonDetachedDecision_TOS>=0 && Lambda_b0_Hlt2DiMuonDetachedHeavyDecision_TOS>=0 && Lambda_b0_PT>=0"*/





E R R O R:::::::::::::

 matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- <WARNING> Tools                    : <GetSQRootMatrix> error in matrix diagonalization; printed S and B
--- TFHandler_Factory        : ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--- TFHandler_Factory        :                                      Variable                                             Mean                                             RMS                                     [        Min                                             Max ]
--- TFHandler_Factory        : ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--- TFHandler_Factory        :                             kaon_IPCHI2_OWNPV:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                          kaon_TRACK_GhostProb:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                  kaon_ProbNNp:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                  kaon_ProbNNk:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                           proton_IPCHI2_OWNPV:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                        proton_TRACK_GhostProb:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                proton_ProbNNp:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                proton_ProbNNk:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                      gamma_PT:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                      gamma_CL:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                              muminus_ProbNNmu:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                       muminus_TRACK_GhostProb:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                               muplus_ProbNNmu:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                        muplus_TRACK_GhostProb:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                        Lambda_b0_DTF_CHI2NDOF:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                        Lambda_b0_IPCHI2_OWNPV:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                Lambda_b0_L0DiMuonDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                  Lambda_b0_L0MuonDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                 Lambda_b0_FDS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :      Lambda_b0_Hlt1DiMuonHighMassDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :       Lambda_b0_Hlt1DiMuonLowMassDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :           Lambda_b0_Hlt1TrackMuonDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :    Lambda_b0_Hlt1SingleMuonHighPTDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :          Lambda_b0_Hlt1TrackAllL0Decision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :      Lambda_b0_Hlt2DiMuonDetachedDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        : Lambda_b0_Hlt2DiMuonDetachedHeavyDecision_TOS:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        :                                  Lambda_b0_PT:                                           -nan                                           -nan   [                                    1.7977e+308                                   -1.7977e+308 ]
--- TFHandler_Factory        : ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--- TFHandler_Factory        : Plot event variables for Gauss_Deco
--- TFHandler_Factory        :
--- TFHandler_Factory        : <PlotVariables> Will not produce scatter plots ==>
--- TFHandler_Factory        : |  The number of 27 input variables and 0 target values would require 351 two-dimensional
--- TFHandler_Factory        : |  histograms, which would occupy the computer's memory. Note that this
--- TFHandler_Factory        : |  suppression does not have any consequences for your analysis, other
--- TFHandler_Factory        : |  than not disposing of these scatter plots. You can modify the maximum
--- TFHandler_Factory        : |  number of input variables allowed to generate scatter plots in your
--- TFHandler_Factory        : |  script via the command line:
--- TFHandler_Factory        : |  "(TMVA::gConfig().GetVariablePlotting()).fMaxNumOfAllowedVariablesForScatterPlots = <some int>;"
--- TFHandler_Factory        :
--- TFHandler_Factory        : Some more output
--- Tools                    : -nan -nan -nan -nan -nan -nan
--- <FATAL> Tools                    : <GetSeparation> signal and background histograms have different or invalid dimensions:
***> abort program execution



